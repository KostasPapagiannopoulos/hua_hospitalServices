package gr.services.huahospital;

import java.sql.PreparedStatement;
import java.sql.SQLException;

import javax.jws.WebMethod;

public class HospitalStaffMethods 
{
	@WebMethod
	public String insertStaff(HospitalStaff hospitalStaff) 
	{
		try {

			String SQLStr = "INSERT INTO `itp14105`.`hospitalstaff` "
					+ "VALUES (?, ?, ?, ?,  ?, ?, ?);";
			PreparedStatement preparedStmnt = db.getConn().prepareStatement(SQLStr);

			preparedStmnt.setInt(1, hospitalStaff.getStaffID());
			preparedStmnt.setString(2, hospitalStaff.getFirstName());
			preparedStmnt.setString(3, hospitalStaff.getLastSurname());
			preparedStmnt.setString(4, Character.toString(hospitalStaff.getGender()));
			preparedStmnt.setDate(5, new java.sql.Date(hospitalStaff.getBirthDate().getTime()));
			preparedStmnt.setInt(6, hospitalStaff.getStaffType());
			preparedStmnt.setString(7, hospitalStaff.getEmp_no());

			db.Update(preparedStmnt); //commit

			return "Η καταχώρηση σας πραγματοποιήθηκε με επιτυχία! Το Όνομα Χρήστη σας είναι "
					+ String.valueOf(getStaffID());
		} catch (SQLException e) {

			e.printStackTrace();
			
		} catch (InstantiationException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} catch (IllegalAccessException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} catch (ClassNotFoundException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		return "Error";
	}

	
	
	
	
	
}
